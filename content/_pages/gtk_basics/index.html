<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><title>The Basics · Introduction · GTK4 + GJS Book</title><meta name=description content="Description of GJS, GTK, and associated libraries and concepts"><link rel=stylesheet href=https://rmnvgr.gitlab.io/gtk4-gjs-book/css/fonts.min.19345285f86c39c6ccd5064648ea6a893294c43129f848430add7083504cc234.css><link rel=stylesheet href=https://rmnvgr.gitlab.io/gtk4-gjs-book/css/screen.min.cf4204deb0fd7d6fd38348ee7fd260a35d221e475c7c7129b7aee5cfe552ce99.css><link rel=search type=application/opensearchdescription+xml title="GTK4 + GJS Book" href=https://rmnvgr.gitlab.io/gtk4-gjs-book/opensearch.xml><meta property="og:title" content="The Basics"><meta property="og:description" content="Description of GJS, GTK, and associated libraries and concepts"><meta property="og:type" content="article"><meta property="og:url" content="https://rmnvgr.gitlab.io/gtk4-gjs-book/introduction/basics/"><meta property="article:section" content="introduction"><meta name=twitter:card content="summary"><meta name=twitter:title content="The Basics"><meta name=twitter:description content="Description of GJS, GTK, and associated libraries and concepts"></head><body class=site><div id=sidebar class=site-sidebar><div id=sidebar-content class=sidebar-content><button id=sidebar-button-close class="sidebar-button close">Close Menu</button><header class=site-header><h1><a href=https://rmnvgr.gitlab.io/gtk4-gjs-book/>GTK4 + GJS Book</a></h1></header><section id=site-search class=site-search><div class=search-field><input type=search placeholder=Search… id=search-input class=search-input>
<button id=search-clear-button class=search-clear-button title="Clear Search">Clear Search</button></div></section><nav id=site-toc class=site-toc><h2>Table of Contents</h2><ol><li><a href=https://rmnvgr.gitlab.io/gtk4-gjs-book/introduction/>Introduction</a><ol><li><a href=https://rmnvgr.gitlab.io/gtk4-gjs-book/introduction/goal-of-this-book/>Goal of This Book</a></li><li><a href=https://rmnvgr.gitlab.io/gtk4-gjs-book/introduction/requirements/>Requirements</a></li><li class=current><a href=https://rmnvgr.gitlab.io/gtk4-gjs-book/introduction/basics/>The Basics</a><ol id=content-toc><li><a href=#what-is-gtk>What Is GTK?</a></li><li><a href=#what-is-gjs>What Is GJS?</a></li><li><a href=#what-is-gobject>What Is GObject?</a></li><li><a href=#what-is-meson>What Is Meson?</a></li><li><a href=#what-is-flatpak>What Is Flatpak?</a></ol></li><li><a href=https://rmnvgr.gitlab.io/gtk4-gjs-book/introduction/resources/>Helpful Resources</a></li></ol></li><li><a href=https://rmnvgr.gitlab.io/gtk4-gjs-book/application/>Building an Application</a></li><li><a href=https://rmnvgr.gitlab.io/gtk4-gjs-book/cheatsheets/>Cheatsheets</a></li></ol></nav></div><div id=sidebar-close-overlay class=sidebar-close-overlay></div></div><main id=site-content class=site-content><button id=sidebar-button-open class="sidebar-button open">Menu</button><article class=article><header class=content-header><h1>The Basics</h1></header><section id=content-body class=content-body><h2 id=what-is-gtk><a class=heading-anchor href=#what-is-gtk>#</a>
<span class=heading-title>What Is GTK?</span></h2><p><a href=https://gtk.org/>GTK</a> is an application toolkit. It provides widgets and facilities to build powerful graphical applications. It is written in C, but provides language bindings to a lot of other programming languages. This is why we can use GTK with GJS.</p><p>It relies on several other libraries that we&rsquo;ll also have to use:</p><ul><li><a href=https://docs.gtk.org/glib/>GLib</a>: Core library with data types, main loop, utility functions</li><li><a href=https://docs.gtk.org/gio/>Gio</a>: file system access, D-Bus communication, application settings</li><li><a href=https://docs.gtk.org/gobject/>GObject</a>: Object system, read more <a href=#what-is-gobject>below</a></li></ul><h2 id=what-is-gjs><a class=heading-anchor href=#what-is-gjs>#</a>
<span class=heading-title>What Is GJS?</span></h2><p>GJS is a JavaScript engine, like a browser or Node.js. It is centered around using GObject introspected libraries, that is, system libraries that are made available to other programming languages through language bindings, like GTK.</p><p>To access these libraries, you have to import them from a special place, <code>gi://</code>. The <a href=https://gjs-docs.gnome.org/>GJS API documentation</a> lists some libraries that are introspected.</p><p>For example, to import GTK:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=ln>1</span><span class=cl><span class=kr>import</span> <span class=nx>Gtk</span> <span class=nx>from</span> <span class=s1>&#39;gi://Gtk&#39;</span><span class=p>;</span>
</span></span></code></pre></div><p>However, if there&rsquo;s multiple versions of a library installed on the system (for example, GTK3 and GTK4), you have to specify which version you want:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=ln>1</span><span class=cl><span class=kr>import</span> <span class=nx>Gtk</span> <span class=nx>from</span> <span class=s1>&#39;gi://Gtk?version=4.0&#39;</span><span class=p>;</span>
</span></span></code></pre></div><aside class=info><p>How about Node.js modules? If they are pure JavaScript modules, it&rsquo;s possible to use them. However, if they make use of Node.js-specific APIs, they will not work.</p></aside><h2 id=what-is-gobject><a class=heading-anchor href=#what-is-gobject>#</a>
<span class=heading-title>What Is GObject?</span></h2><p>GObject is an object-oriented library for C. Since JavaScript is also an object-oriented language, GJS has facilities in place to allow us to use GObjects as JavaScript objects. For example, GTK widgets are GObjects, and we can instantiate them, access their properties and call their methods like regular JavaScript classes.</p><p>To make our own JavaScript classes available as GObject, we can use this utility function:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=ln>1</span><span class=cl><span class=kr>import</span> <span class=nx>GObject</span> <span class=nx>from</span> <span class=s1>&#39;gi://GObject&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>
</span></span><span class=line><span class=ln>3</span><span class=cl><span class=kr>const</span> <span class=nx>MyClass</span> <span class=o>=</span> <span class=nx>GObject</span><span class=p>.</span><span class=nx>registerClass</span><span class=p>(</span><span class=kr>class</span> <span class=kr>extends</span> <span class=nx>GObject</span><span class=p>.</span><span class=nb>Object</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>4</span><span class=cl>	<span class=cm>/* Regular JavaScript class implementation */</span>
</span></span><span class=line><span class=ln>5</span><span class=cl><span class=p>});</span>
</span></span></code></pre></div><p>It&rsquo;s possible to pass a configuration object as the first parameter of the <code>registerClass()</code> function to tweak the behavior of our GObject, for example for defining properties or signals. To learn more about it, head over to the <a href=https://gjs.guide/guides/gobject/subclassing.html>GObject subclassing section of the GJS Guide</a>, or to the <a href=https://rmnvgr.gitlab.io/gtk4-gjs-book/cheatsheets/gobject/>GObject cheatsheet</a> for practical examples.</p><h2 id=what-is-meson><a class=heading-anchor href=#what-is-meson>#</a>
<span class=heading-title>What Is Meson?</span></h2><p><a href=https://mesonbuild.com/>Meson</a> is a build system. It will take care for us of installing our application files to the correct places. Furthermore, it ships with modules that makes it even more easier to perform some needed tasks.</p><p>Using a well-known build system ensures that people wanting to build and distribute our application won&rsquo;t run into trouble.</p><h2 id=what-is-flatpak><a class=heading-anchor href=#what-is-flatpak>#</a>
<span class=heading-title>What Is Flatpak?</span></h2><p><a href=https://flatpak.org/>Flatpak</a> gives us a well-known environment for developing and distributing desktop applications. It is based around runtimes: if an application builds and runs with a specific runtime on your computer, it will also build and run on someone else&rsquo;s computer if they use Flatpak with the same runtime.</p><p>In this book, we&rsquo;ll use the GNOME runtime, as it provides the GJS, GTK4 and Meson dependencies we need for our application. It is split in two: the platform, that only contains libraries needed to run applications, and the SDK, that contains libraries and tools needed to build applications.</p><p>Our use of Flatpak will be very basic, please refer to the <a href=https://flatpak.org/>official Flatpak documentation</a> to learn more about its capabilities.</p></section><nav class=content-next-link><a href=https://rmnvgr.gitlab.io/gtk4-gjs-book/introduction/resources/ rel=next><h2>Next Chapter</h2><p>Helpful Resources</p></a></nav></article></main><footer class=site-footer><p>Written by Romain Vigier.</p><p>Released under the CC-BY-SA 4.0 International license.</p><p><a href=https://gitlab.com/rmnvgr/gtk4-gjs-book>View the source code of this site and report issues</a>.</p></footer><script src=https://rmnvgr.gitlab.io/gtk4-gjs-book/js/scripts.min.aa962eda960fe94d366c5eea8a6948f07d24123323d36ed6fc8f5879d2c29660.js integrity="sha256-qpYu2pYP6U02bF7qimlI8H0kEjMj027W/I9YedLClmA="></script></body></html>